import com.rameses.annotations.*;
import com.rameses.util.*;

class BasicUserServiceImpl
{
	@Env 
	def env;

	@Service('AdminUserService')
	def svc;

	@ProxyMethod(local=true)
	public Map getInfo( username ) {
		def info = svc.getInfo( username ); 
		if (!info) throw new Exception("'"+username+"' user account does not exist"); 

		def result = [:]; 
		result.username = info.uid;
		result.USERID = info.objid;
    	result.env = [
            USER: info.uid,     	
            USERID: info.objid, 
            NAME: info.name, 
            EMAIL: info.email,
            TERMINALID: env.TERMINALID,              
			ROLES: [ALLOWED: '.*'] 
		];
		return result;
	}
	
} 