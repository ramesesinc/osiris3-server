import com.rameses.annotations.*
import com.rameses.common.*
import java.rmi.server.UID;
import com.rameses.util.*;
import com.rameses.io.*;
import com.rameses.services.extended.*;

class RuleFactService extends ActiveCrudListService {

	@ActiveDB(value='rulefact', em='admin')
	def em;


	void afterList(params, list) {
		list.each { it._filetype = 'rulefact' } 
	}

	void afterUpdate(data) {
		initData(data); 
	}

	void afterOpen(data) {
		initData(data); 
	}

	void initData(data) {
		def o = em.findByName([name: data.name]); 
		if (o) data.putAll(o); 
	}
}