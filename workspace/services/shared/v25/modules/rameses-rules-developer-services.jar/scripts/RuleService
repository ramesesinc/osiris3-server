import com.rameses.annotations.*;
import com.rameses.common.*;

class RuleService 
{	
	@PersistenceContext('system')
	def em;


	@ProxyMethod
	public List getNodes( params ) { 
		println params;
		if (params.root) {
			def list = em.sqlContext.createNamedQuery('rule:getDomains').resultList;
			list.each { it.caption = it.title } 
			return list; 
		} else {
			return [];
		}
	} 	

}
