import com.rameses.annotations.*;
import com.rameses.util.*;
import java.rmi.server.*;
import com.rameses.common.*
import com.rameses.services.extended.*

class RevenueItemService extends AbstractCrudListService {

	@PersistenceContext("main")
	def em;

	String schemaName = "collectiontype";
	
	@ProxyMethod
	public def getColumns( def o ) {
		return[
			[name:'name', caption:'Name' ],
			[name:'title', caption:'Title' ],
			[name:'formno', caption:'Form No' ],
			[name:'handler', caption:'Handler' ],
		];
	}
	
	@ProxyMethod
	public def getFormTypes() {
		//must return a collection of elements with fields [formno and formtype]
		//this is impt for associating handlers. See collectiontype client handler.
		return [];
	}
	
	@ProxyMethod
	public def getAvailableFormTypes() {
		return em.sqlContext.createNamedQuery("collectiontype:getAvailableFormTypes").resultList*.formno;
	}
	
	@ProxyMethod
	public def getListByFormType(def o) {
		return em.sqlContext.createNamedQuery("collectiontype:getListByFormType").setParameters(o).resultList;
	}
		
}
