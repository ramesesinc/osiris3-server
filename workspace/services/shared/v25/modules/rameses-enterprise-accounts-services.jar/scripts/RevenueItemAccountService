import com.rameses.annotations.*;
import com.rameses.util.*;
import java.rmi.server.*;
import com.rameses.common.*;
import com.rameses.services.extended.*;

class RevenueItemAccountService extends ActiveCrudListService {

	@ActiveDB("revenueitem")
	def em;

	@ProxyMethod
	public def getColumns( def o ) {
		return[
			[name:'code', caption:'Item Code' ],
			[name:'title', caption:'Item Title' ],
			[name:'fund.code', caption:'Fund Account' ],
			[name:'fund.title', caption:'Fund Title' ],
			[name:'state', caption:'State' ],
		];
	}	

	void beforeList(o) {
		o.fund = o.searchtext
		o.searchtext = (o.searchtext ? o.searchtext : '') +'%'
	}

	def getList(o) {
		o.searchtext = (o.searchtext ? o.searchtext : '') +'%'	
		def list = em.getList(o)
		if(!list) 
			list = em.getListByCode(o)
		return list;
	}
	
	
}
