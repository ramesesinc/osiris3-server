import com.rameses.annotations.*
import com.rameses.common.*
import com.rameses.services.extended.*

class BankAccountService extends AbstractCrudListService {

	@PersistenceContext('main')
	def em
	
	String schemaName = "bankaccount";
	
	@ProxyMethod
	public def getColumns(def m) {
		return [
			[name:"state", caption:"State"],
			[name:"code", caption:"Account No."],
			[name:"title", caption:"Account Title"],
			[name:"bank.code", caption:"Bank Code"],
			[name:"bank.name", caption:"Bank Name"],
			[name:"branchname", caption:"Branch Name"],
		];
	}
	
	public void beforeList( params ) {
		params.code = params.searchtext
		params.bank_code = params.searchtext
		params.bank_name = params.searchtext
	}
	
	@ProxyMethod
	public List getAccountTypeList() {
		return ["CHECKING", "SAVINGS", "TIME DEPOSIT", "HYSA"]
	}
	
}