import com.rameses.annotations.*;
import com.rameses.util.*;
import java.rmi.server.*;
import com.rameses.common.*
import com.rameses.services.extended.*;

class FundService extends ActiveCrudListService {

	@ActiveDB("fund")
	def em;
	
	@ProxyMethod
	public def getNodes( def p ) {
		def list;
		if(p.root) {
			list = [ [caption:'Funds', folder:true]];
		}
		else {
			if(!p.objid) {
				list = em.getRootNodes(p);
			}
			else {
				list = em.getChildNodes(p);
			}
			list.each {  it.caption = it.code + "(" + it.title + ") "; }
		}
		return list;
	}	
	
	@ProxyMethod
	public def getColumns( def o ) {
		return[
			[name:'icon', caption:'', type:'icon', width:30, resizable:false ],
			[name:'code', caption:'Acct Code' ],
			[name:'title', caption:'Acct Title' ],
			[name:'type', caption:'Type' ],
			[name:'filetype', caption:'Filetype' ],
		];
	}
	
	
}
