import com.rameses.annotations.*;
import com.rameses.util.*;
import java.rmi.server.*;

class SpecialCollectionTypeInterceptor 
{
	@Service('SpecialCollectionTypeService')
	def svc 
	

	@Before(pattern="CollectionTypeService.removeEntity")
	public def deleteSpecialCollectionType(def evt) { 
		svc.delete(evt.args[0].objid)
	}
	
	@After(pattern="CollectionTypeService.open", eval="result.handler.matches('burial|lco|lct|marriage')")
	public def openSpecialCollectionType(def evt) { 
		def ct = evt.result 
		def setting = svc.open(ct.objid)
		if (setting){
			ct.putAll(setting)
		}
	}

	@After(pattern="CollectionTypeService.create", eval="result.handler.matches('burial|lco|lct|marriage')")
	public def createSpecialCollectionType(def evt) { 
		svc.create(evt.result)
	}

	@After(pattern="CollectionTypeService.update", eval="result.handler.matches('burial|lco|lct|marriage')")
	public def updateSpecialCollectionType(def evt) { 
		svc.update(evt.result)
	}

}
